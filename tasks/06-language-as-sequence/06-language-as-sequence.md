# Мова як послідовність

## Run-on Sentences

### 1. Домен

Цього тижня ви працюватимете над задачею виправлення помилок.

Run-on речення - це речення, склеєне з двох чи більше речень без належної пунктуації. Таку помилку часто допускають механічно, коли швидко друкують текст, проте така помилка виникає і від незнання мови. Особливо часто ця помилка зустрічається в інтернет-спілкуванні.

Наприклад:
```
Thanks for talking to me let's meet again tomorrow Bye.
```

У цьому реченні насправді три склеєні речення. Правильний варіант:
```
Thanks for talking to me. Let's meet again tomorrow. Bye.
```

Run-on речення важливо визначати не лише для виправлення помилок. Ця помилка впливає на якість визначення сутностей, машинного перекладу, об'єкта сентименту тощо.

Більше інформації та прикладів можна знайти за посиланнями:
- <http://www.bristol.ac.uk/arts/exercises/grammar/grammar_tutorial/page_37.htm>
- <https://www.english-grammar-revolution.com/run-on-sentence.html>
- <https://www.quickanddirtytips.com/education/grammar/what-are-run-on-sentences>

### 2. Класифікатор

Дані:
- Згенеруйте тренувальні дані для моделі на основі відкритих корпусів. Тренувальними даними буде набір склеєних речень. Візьміть до уваги, що склеєних речень може бути кілька (зазвичай 2, але буває і 3-4), а перше слово наступного речення може писатися з великої чи малої літери.
- Знайдіть у відкритому доступі чи зберіть самостійно базу енграмів на рівні слів чи частин мови. Завважте, що відкриті бази енграмів зазвичай містять статистику, зібрану на реченнях, а отже вони можуть не містити енграми на межі речень.

Тестування:
- Напишіть базове рішення та метрику для тестування якості.
- Для тестування використайте корпус [run-on-test.json](run-on-test.json). Формат корпусу:
```
[
  [
    ["Thanks", false],
    ["for", false],
    ["talking", false],
    ["to", false],
    ["me", true],
    ["let", false],
    ["'s", false],
    ["meet", false],
    ["again", false],
    ["tomorrow", true],
    ["Bye", false],
    [".", false]
  ],
...
]
```

`true` позначає слово, після якого треба додати крапку. Тестовий корпус містить 200 токенізованих речень (~ 4700 токенів). 3% токенів мають клас `true`, а решта - `false`. Зверніть увагу, що корпус вже токенізований.

Класифікатор:
- Виділіть ознаки, які впливають на те, чи є слово на межі речень. Наприклад:
  - правий/лівий контекст;
  - написання слова;
  - граматичні ознаки (чи може речення закінчитись на сполучник?);
  - енграми (чи часто це слово і наступне йдуть поруч? чи ймовірні ці дві частини мови поруч?);
  - глибина синтаксичного дерева чи найближчий спільний предок;
  - ваші варіанти.
- Побудуйте класифікатор на основі логістичної регресії чи умовних випадкових полів (CRF), який анотує послідовно слова у реченні на предмет закінчення речення.
- Спробуйте покращити якість роботи класифікатора, змінюючи набір чи комбінацію ознак.
- **Важливо:** під час покращення класифікатора перевіряйте його якість на своїх даних (train/test або кросвалідація).
- Визначте фінальну якість класифікатора на тестовій вибірці.

Запишіть ваші спостереження та результати в окремий файл.

### Корисні посилання

- [CRF tutorial](https://sklearn-crfsuite.readthedocs.io/en/latest/tutorial.html)
- [Google ngrams](http://storage.googleapis.com/books/ngrams/books/datasetsv2.html) (and [how to download](https://pypi.org/project/google-ngram-downloader/))
- [Google syntactic ngrams](http://commondatastorage.googleapis.com/books/syntactic-ngrams/index.html)
- [1 mln of 2/3/4/5-ngrams from COCA](https://www.ngrams.info/download_coca.asp)

### Оцінювання

100% за завдання.

### Крайній термін

18.04.2020
